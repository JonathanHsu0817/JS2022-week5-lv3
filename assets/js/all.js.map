{"version":3,"sources":["all.js"],"names":["data","axios","get","then","response","updateData","renderCard","information","forEach","item","obj","id","name","imgUrl","area","description","group","price","rate","push","searchNum","document","querySelector","card","searchDataNum","searchSelection","renderData","str","cardContent","innerHTML","length","addEventListener","research","e","target","value","tempData","ticketName","ticketUrl","ticketRegion","ticketPrice","ticketNum","ticketStar","ticketDescription","addTicketBtn","addData","alert","form","reset"],"mappings":"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","file":"all.js","sourcesContent":["// const { init } = require(\"browser-sync\");\n\n// const data = [\n//   {\n//     \"id\": 0,\n//     \"name\": \"肥宅心碎賞櫻3日\",\n//     \"imgUrl\": \"https://images.unsplash.com/photo-1522383225653-ed111181a951?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1655&q=80\",\n//     \"area\": \"高雄\",\n//     \"description\": \"賞櫻花最佳去處。肥宅不得不去的超讚景點！\",\n//     \"group\": 87,\n//     \"price\": 1400,\n//     \"rate\": 10\n//   },\n//   {\n//     \"id\": 1,\n//     \"name\": \"貓空纜車雙程票\",\n//     \"imgUrl\": \"https://images.unsplash.com/photo-1501393152198-34b240415948?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1650&q=80\",\n//     \"area\": \"台北\",\n//     \"description\": \"乘坐以透明強化玻璃為地板的「貓纜之眼」水晶車廂，享受騰雲駕霧遨遊天際之感\",\n//     \"group\": 99,\n//     \"price\": 240,\n//     \"rate\": 2\n//   },\n//   {\n//     \"id\": 2,\n//     \"name\": \"台中谷關溫泉會1日\",\n//     \"imgUrl\": \"https://images.unsplash.com/photo-1535530992830-e25d07cfa780?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1650&q=80\",\n//     \"area\": \"台中\",\n//     \"description\": \"全館客房均提供谷關無色無味之優質碳酸原湯，並取用八仙山之山冷泉供蒞臨貴賓沐浴及飲水使用。\",\n//     \"group\": 20,\n//     \"price\": 1765,\n//     \"rate\": 7\n//   }\n// ];\n\n//接取資料\nconst data = [];\n\naxios.get(\"https://raw.githubusercontent.com/hexschool/js-training/main/travelApi.json\")\n  .then(function(response){\n    // console.log(response.data.data);\n    updateData(response.data.data);\n    renderCard(data);\n  });\n\nfunction updateData(information){\n  information.forEach(item =>{\n    let obj ={};\n    obj.id = item.id;\n    obj.name = item.name;\n    obj.imgUrl = item.imgUrl;\n    obj.area = item.area;\n    obj.description = item.description;\n    obj.group = item.group;\n    obj.price = item.price;\n    obj.rate = item.rate;\n    // console.log(obj);\n    data.push(obj);\n  })\n}\n\nconst searchNum = document.querySelector(\".search-num\");\nconst card = document.querySelector(\".search-place\");\nconst searchDataNum = document.querySelector(\".search-text\")\nconst searchSelection = document.querySelector(\"#searchPlace\");\n\n\n\n//預設載入、渲染幾筆資料\nfunction renderCard(renderData){\n  let str=\"\";\n  renderData.forEach(item=>{\n    let cardContent = `<div class=\"col-lg-4 mb-8\">\n    <div class=\"card shadow d-flex flex-column h-100\">\n      <div class=\"search-picture position-relative\">\n        <div class=\"place-icon bg-secondary text-white rounded-end position-absolute py-2 px-5\">${item.area}</div>\n        <div class=\"place-rate bg-primary text-white rounded-end position-absolute py-1 px-2\">${item.rate}</div>\n        <a href=\"#\" class=\"d-block overflow-hidden\"><img src=\"${item.imgUrl}\" class=\"card-img-top  object-fix-cover\" alt=\"travel_1.png\"></a>\n      </div>\n        <div class=\"card-body d-flex flex-column\">\n          <h2 class=\"card-title fw-bold text-primary border-bottom border-2 border-primary pb-1 mb-4\"><a href=\"#\" class=\"text-decoration-none\">${item.name}</a></h2>\n          <p class=\"card-text text-gray\">${item.description}</p>\n          <div class=\"d-flex justify-content-between align-items-center mt-auto\">\n            <div class=\"text-primary fw-bold\"><i class=\"fas fa-exclamation-circle me-1\"></i>剩下最後 ${item.group} 組</div>\n            <div class=\"d-flex align-items-center text-primary fw-bold\">TWD<span class=\"fs-7 ms-1\">${item.price}</span></div>\n        </div>\n      </div>\n    </div>\n  </div>`;\n    str+= cardContent;\n    card.innerHTML = str;\n    searchDataNum.innerHTML = `<p class=\"search-text mb-0\">本次搜尋共 ${renderData.length} 筆資料</p>`;\n  })\n}\n\nrenderCard(data);\n\n//篩選器邏輯\nsearchSelection.addEventListener('change',research);\n\nfunction research(e){\n  // console.log(e.target.value);\n  str=\"\";\n  if(e.target.value === \"地區搜尋\"){\n    renderCard(data);\n  }else {\n    const tempData = [];\n    data.forEach(item=>{\n      if(item.area === e.target.value){\n        tempData.push(item)\n      }\n    })\n    // console.log(tempData);\n    renderCard(tempData);\n  }\n}\n\n\n\n//新增邏輯\nconst ticketName = document.querySelector(\"#ticketName\");\n\nconst ticketUrl = document.querySelector(\"#ticketUrl\"); \n\nconst ticketRegion = document.querySelector(\"#ticketRegion\");\n\nconst ticketPrice = document.querySelector(\"#ticketPrice\");\n\nconst ticketNum = document.querySelector(\"#ticketNum\");\n\nconst ticketStar = document.querySelector(\"#ticketStar\");\n\nconst ticketDescription = document.querySelector(\"#ticketDescription\");\n\nconst addTicketBtn = document.querySelector(\"#addTicketBtn\");\n\nlet obj = {};\n\nfunction addData(){\n  if(!ticketName.value||!ticketUrl.value||!ticketUrl.value||ticketRegion.value===\"請選擇景點地區\"||!ticketDescription.value||!ticketNum||!ticketPrice||!ticketStar){\n    return alert(\"請不要留空格\");\n  }\n  obj.id= data.length;\n  obj.name = ticketName.value;\n  obj.imgUrl = ticketUrl.value;\n  obj.area = ticketRegion.value;\n  obj.description = ticketDescription.value;\n  obj.group = ticketNum.value;\n  obj.price = ticketPrice.value;\n  obj.rate = ticketStar.value;\n  // console.log(obj);\n  data.push(obj);\n  const form = document.querySelector(\".addticket-form\");\n  form.reset();\n  renderCard(data)\n}\n\n\naddTicketBtn.addEventListener(\"click\", (e) =>{\n  // console.log(ticketName.value);\n  addData();\n})\n\n"]}